---
name: ceos_fabric

mgmt:
  network: 'mgmt_ceos_fabric'
  ipv4_subnet: 10.73.255.0/24

topology:
  kinds:
    ceos:
      image: arista/ceos:4.27.1F
    linux:
      image: titom73/network-multitool:extra
  nodes:
    ceos-agg01:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.121
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-agg01.cfg
      ports:
      - 8021:443/tcp
      env:
        TMODE: lacp
    ceos-agg02:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.122
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-agg02.cfg
      ports:
      - 8022:443/tcp
      env:
        TMODE: lacp
    ceos-bl01a:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.115
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-bl01a.cfg
      ports:
      - 8017:443/tcp
      env:
        TMODE: lacp
    ceos-bl01b:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.116
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-bl01b.cfg
      ports:
      - 8018:443/tcp
      env:
        TMODE: lacp
    ceos-leaf1a:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.111
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf1a.cfg
      ports:
      - 8011:443/tcp
      env:
        TMODE: lacp
    ceos-leaf1b:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.112
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf1b.cfg
      ports:
      - 8012:443/tcp
      env:
        TMODE: lacp
    ceos-leaf2a:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.113
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf2a.cfg
      ports:
      - 8013:443/tcp
      env:
        TMODE: lacp
    ceos-leaf2b:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.114
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf2b.cfg
      ports:
      - 8014:443/tcp
      env:
        TMODE: lacp
    ceos-leaf3a:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.117
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf3a.cfg
      ports:
      - 8015:443/tcp
      env:
        TMODE: lacp
    ceos-leaf4a:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.118
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-leaf4a.cfg
      ports:
      - 8016:443/tcp
      env:
        TMODE: lacp
    ceos-spine1:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.101
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-spine1.cfg
      ports:
      - 8001:443/tcp
      env:
        TMODE: lacp
    ceos-spine2:
      image: arista/ceos:4.27.1F
      mgmt_ipv4: 10.73.255.102
      kind: ceos
      startup-config: /home/tom/arista-avd/avd-lab-validation/inventories/containerlab/intended/configs/ceos-spine2.cfg
      ports:
      - 8002:443/tcp
      env:
        TMODE: lacp
    client11:
      kind: linux
      mgmt_ipv4: 10.73.255.191
      env:
        TMODE: lacp
    client21:
      kind: linux
      mgmt_ipv4: 10.73.255.193
      env:
        TMODE: lacp
    client12:
      kind: linux
      mgmt_ipv4: 10.73.255.192
    client22:
      kind: linux
      mgmt_ipv4: 10.73.255.194

  links:
    - endpoints: ["ceos-agg01:et1", "ceos-leaf1a:et5"]
    - endpoints: ["ceos-agg01:et2", "ceos-leaf1b:et5"]
    - endpoints: ["ceos-agg02:et1", "ceos-leaf2a:et5"]
    - endpoints: ["ceos-agg02:et2", "ceos-leaf2b:et5"]
    - endpoints: ["ceos-bl01a:et1", "ceos-spine1:et5"]
    - endpoints: ["ceos-bl01a:et2", "ceos-spine2:et5"]
    - endpoints: ["ceos-bl01a:et3", "ceos-bl01b:et3"]
    - endpoints: ["ceos-bl01a:et4", "ceos-bl01b:et4"]
    - endpoints: ["ceos-bl01b:et1", "ceos-spine1:et6"]
    - endpoints: ["ceos-bl01b:et2", "ceos-spine2:et6"]
    - endpoints: ["ceos-leaf1a:et1", "ceos-spine1:et1"]
    - endpoints: ["ceos-leaf1a:et2", "ceos-spine2:et1"]
    - endpoints: ["ceos-leaf1a:et3", "ceos-leaf1b:et3"]
    - endpoints: ["ceos-leaf1a:et4", "ceos-leaf1b:et4"]
    - endpoints: ["ceos-leaf1b:et1", "ceos-spine1:et2"]
    - endpoints: ["ceos-leaf1b:et2", "ceos-spine2:et2"]
    - endpoints: ["ceos-leaf2a:et1", "ceos-spine1:et3"]
    - endpoints: ["ceos-leaf2a:et2", "ceos-spine2:et3"]
    - endpoints: ["ceos-leaf2a:et3", "ceos-leaf2b:et3"]
    - endpoints: ["ceos-leaf2a:et4", "ceos-leaf2b:et4"]
    - endpoints: ["ceos-leaf2b:et1", "ceos-spine1:et4"]
    - endpoints: ["ceos-leaf2b:et2", "ceos-spine2:et4"]
    - endpoints: ["ceos-leaf3a:et1", "ceos-spine1:et7"]
    - endpoints: ["ceos-leaf3a:et2", "ceos-spine2:et7"]
    - endpoints: ["ceos-leaf3a:et3", "ceos-leaf4a:et3"]
    - endpoints: ["ceos-leaf3a:et4", "ceos-leaf4a:et4"]
    - endpoints: ["ceos-leaf4a:et1", "ceos-spine1:et8"]
    - endpoints: ["ceos-leaf4a:et2", "ceos-spine2:et8"]

    - endpoints: ["ceos-agg01:et3", "client11:et1"]
    - endpoints: ["ceos-agg01:et4", "client11:et2"]
    - endpoints: ["ceos-agg01:et5", "client12:et1"]

    - endpoints: ["ceos-agg02:et3", "client21:et1"]
    - endpoints: ["ceos-agg02:et4", "client21:et2"]
    - endpoints: ["ceos-agg02:et5", "client22:et1"]
